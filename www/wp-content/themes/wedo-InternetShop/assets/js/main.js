$(document).ready(function () {
    function t(t) {
        c = $("#" + t).attr("name"), $("#mainTariff").html(c), $("#tariff").val(c)
    }

    $(".slider-seo").owlCarousel({
        nav: !1,
        dots: !0,
        responsive: {
            0: {loop: !0, items: 1},
            600: {margin: 10, loop: !0, items: 2},
            1e3: {dots: !1, margin: 10, loop: !1, items: 3, mouseDrag: !1, touchDrag: !1, pullDrag: !1}
        }
    }), $(".slider-work").owlCarousel({
        loop: !0,
        margin: 50,
        autoplay: !0,
        smartSpeed: 2e3,
        autoplayTimeout: 7e3,
        dots: !1,
        nav: !0,
        navText: ["<img src='/wp-content/themes/wedoLandings/assets/img/Arrows-Back-icon.png'>", "<img src='/wp-content/themes/wedoLandings/assets/img/Arrows-Back-icon.png'>"],
        responsive: {0: {items: 1, dots: !0, nav: !1}, 600: {items: 1, dots: !0, nav: !1}, 1e3: {items: 1}}
    }), $(window).scroll(function () {
        $("header").css("background-position", "50% " + -$(this).scrollTop() / 2 + "px")
    }), $(".table-container-footer .btn-pink").each(function (t, i) {
        var o = t + 2;
        $(this).hover(function () {
            $(".table-container-body tr td:nth-of-type(" + o + ")").css({
                "background-color": "rgba(68,125,152,.07)",
                transition: "all 0.3s ease-in"
            })
        }, function () {
            $(".table-container-body tr td:nth-of-type(" + o + ")").css({
                "background-color": "transparent",
                transition: "all 0.3s ease-in"
            })
        }).click(function () {
            $(".table-container-body tr td").each(function () {
                $(this).hasClass("clicked") && $(this).removeClass("clicked")
            }), $(".table-container-body tr td:nth-of-type(" + o + ")").addClass("clicked")
        })
    }), wrapper = $(".tabs"), tabs = wrapper.find(".tab"), tabToggle = wrapper.find(".tab-toggle"), tabToggle.on("click", function () {
        var t = $(this).parent().next(".content"), i = wrapper.find(".active");
        $(this).hasClass("active") || ($(this).add(t).add(i).toggleClass("active"), wrapper.css("min-height", "400px"))
    }), tabToggle.first().trigger("click"), $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    }), $("#myModal, #myModal3").on("shown.bs.modal", function () {
    }), $("#menu").on("click", "a", function (t) {
        t.preventDefault();
        var i = $(this).attr("href"), o = $(i).offset().top;
        $("body,html").animate({scrollTop: o}, 1500)
    }), $("#commercial-offer").submit(function () {
        return null !== $("#Phone-com").val().match(/(?:\w)(?:(?:(?:(?:\+?3)?8\W{0,5})?0\W{0,5})?[34569]\s?\d[^\w,;(\+]{0,5})?\d\W{0,5}\d\W{0,5}\d\W{0,5}\d\W{0,5}\d\W{0,5}\d\W{0,5}\d(?!(\W?\d))/) ? $.ajax({
            type: "POST",
            url: "mail.php",
            data: $("#commercial-offer").serialize()
        }).done(function () {
            $(".modal.commercial").modal("toggle"), $(".modal.thank-you").modal("toggle")
        }) : $("#errorMessage2").css("display", "block"), !1
    }), $("#callback-form").submit(function () {
        return null !== $("#Phone").val().match(/(?:\w)(?:(?:(?:(?:\+?3)?8\W{0,5})?0\W{0,5})?[34569]\s?\d[^\w,;(\+]{0,5})?\d\W{0,5}\d\W{0,5}\d\W{0,5}\d\W{0,5}\d\W{0,5}\d\W{0,5}\d(?!(\W?\d))/) ? $.ajax({
            type: "POST",
            url: "mail.php",
            data: $("#callback-form").serialize()
        }).done(function () {
            $(".modal.call-us").modal("toggle"), $(".modal.thank-you").modal("toggle")
        }) : $("#errorMessage").css("display", "block"), !1
    }), $("#open-close").show(), $(".wrap-alert").show(), $("#open-close").click(function (t) {
        t.preventDefault(), $(".wrap-alert").slideToggle()
    });
    var i = $(".table-container-body"), o = $(".table-container-header"), e = $(".table-container-footer"),
        a = function () {
            var t, i, o = $("<p/>").addClass("fixed-table-scroll-inner"),
                e = $("<div/>").addClass("fixed-table-scroll-outer");
            return e.append(o), $("body").append(e), t = o[0].offsetWidth, e.css("overflow", "scroll"), i = o[0].offsetWidth, t === i && (i = e[0].clientWidth), e.remove(), t - i
        }();
    i.on("scroll", function () {
        o.scrollLeft($(this).scrollLeft()), e.scrollLeft($(this).scrollLeft())
    });
    var n = function () {
        var t = i.find("> table > tbody > tr:first-child > td");
        t.each(function (i) {
            var n = $(this).innerWidth(), l = t.length - 1 == i ? a : 0;
            lastHeader = o.find("th:eq(" + i + ")").innerWidth(n + l), lastFooter = e.find("th:eq(" + i + ")").innerWidth(n + l)
        })
    };
    i.find("> table > tbody > tr > td").click(function (t) {
        i.find("> table > tbody > tr").removeClass("info"), $(t.target).parent().addClass("info")
    }), $(window).resize(n), n();
    var l = [{price: allOptions.main.light.price}, {price: allOptions.main.medium.price}, {price: allOptions.main.premium.price}];
    $(".table-container-footer .price").each(function (t) {
        $(this).text("$" + l[t].price)
    }), $(".tab-content .price").each(function (t) {
        $(this).find("p").text("$" + l[t].price)
    });
    var r, s, c, d = $("input[type=checkbox]"), p = {}, m = allOptions.main.light.price, h = 0,
        f = allOptions.main.light.time, u = 0;
    t("light"), $('[id="light"]').click(function () {
        m = allOptions.main.light.price, f = allOptions.main.light.time, t(this.id), d.change(), $("html, body").animate({scrollTop: $("div.options").offset().top}, 1e3)
    }), $('[id="medium"]').click(function () {
        m = allOptions.main.medium.price, f = allOptions.main.medium.time, d.change(), t(this.id), $("html, body").animate({scrollTop: $("div.options").offset().top}, 1e3)
    }), $('[id="premium"]').click(function () {
        m = allOptions.main.premium.price, f = allOptions.main.premium.time, d.change(), t(this.id), $("html, body").animate({scrollTop: $("div.options").offset().top}, 1e3)
    }), $("#modalBtn").click(function () {
        d.change()
    }), d.change(function () {
        h = 0, u = 0, $("input[type=checkbox]").each(function () {
            this.checked ? (p[this.id] = this.name, h += allOptions.options[this.id].price, u += allOptions.options[this.id].time) : void 0 !== p[this.id] && delete p[this.id]
        }), r = parseInt(m) + parseInt(h), s = parseInt(f) + parseInt(u), function (t, i) {
            $("#totalPrice").html("$" + t), $("#totalPriceForm").html("$" + t);
            var o = "месяца";
            1 == i ? o = "месяц" : i > 4 && (o = "месяцев"), $("#totalTime").html(i + " " + o), $("#totalTimeForm").html(i + " " + o), $("#cost-val").val(t), $("#date").val(i + " " + o)
        }(r, s), function (t) {
            var i = Object.values(t);
            $("#additionalOptions").html(i.join(";")), $("#options").val(i)
        }(p)
    }), $("#cost, #feature, #why-us, #promotion, #works").animated("slideInUp", "slideOutUp"), $(".options, .wrap-cost, .home-button").animated("slideInUp", "slideOutUp")
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ1cGRhdGVUYXJpZmYiLCJpZCIsInRhcmlmZk5hbWUiLCJhdHRyIiwiaHRtbCIsInZhbCIsIm93bENhcm91c2VsIiwibmF2IiwiZG90cyIsInJlc3BvbnNpdmUiLCIwIiwibG9vcCIsIml0ZW1zIiwiNjAwIiwibWFyZ2luIiwiMTAwMCIsIm1vdXNlRHJhZyIsInRvdWNoRHJhZyIsInB1bGxEcmFnIiwiYXV0b3BsYXkiLCJzbWFydFNwZWVkIiwiYXV0b3BsYXlUaW1lb3V0IiwibmF2VGV4dCIsIndpbmRvdyIsInNjcm9sbCIsImNzcyIsInRoaXMiLCJzY3JvbGxUb3AiLCJlYWNoIiwiaW5kZXgiLCJlbGVtIiwiZWxlbUluZGV4IiwiaG92ZXIiLCJiYWNrZ3JvdW5kLWNvbG9yIiwidHJhbnNpdGlvbiIsImNsaWNrIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwid3JhcHBlciIsInRhYnMiLCJmaW5kIiwidGFiVG9nZ2xlIiwib24iLCJjb250ZW50IiwicGFyZW50IiwibmV4dCIsImFjdGl2ZUl0ZW1zIiwiYWRkIiwidG9nZ2xlQ2xhc3MiLCJmaXJzdCIsInRyaWdnZXIiLCJ0b29sdGlwIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRvcCIsIm9mZnNldCIsImFuaW1hdGUiLCJzdWJtaXQiLCJtYXRjaCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInNlcmlhbGl6ZSIsImRvbmUiLCJtb2RhbCIsInNob3ciLCJzbGlkZVRvZ2dsZSIsIiRib2R5IiwiJGhlYWRlciIsIiRmb290ZXIiLCJzY3JvbGxCYXJXaWR0aCIsIncxIiwidzIiLCJpbm5lciIsIm91dGVyIiwiYXBwZW5kIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZSIsInNjcm9sbExlZnQiLCJyZWRyYXciLCJ0ZHMiLCJpIiwid2lkdGgiLCJpbm5lcldpZHRoIiwibGFzdFBhZGRpbmciLCJsZW5ndGgiLCJsYXN0SGVhZGVyIiwibGFzdEZvb3RlciIsImUiLCJ0YXJnZXQiLCJyZXNpemUiLCJtYXNQcmljZSIsInByaWNlIiwiYWxsT3B0aW9ucyIsIm1haW4iLCJsaWdodCIsIm1lZGl1bSIsInByZW1pdW0iLCJ0ZXh0IiwidG90YWxQcmljZSIsInRvdGFsVGltZSIsImNoZWNrQm94ZXMiLCJvcHRpb25zIiwiYmFzZVByaWNlIiwib3B0aW9uc1ByaWNlIiwiYmFzZVRpbWUiLCJ0aW1lIiwib3B0aW9uc1RpbWUiLCJjaGFuZ2UiLCJjaGVja2VkIiwibmFtZSIsInBhcnNlSW50IiwidXBkYXRlVG90YWxQcmljZUFuZFRpbWUiLCJhcnJWYWx1ZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJqb2luIiwidXBkYXRlRm9ybU9wdGlvbnMiLCJhbmltYXRlZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUdDLFVBQVdDLE1BQU0sV0FzV2hCLFNBQVNDLEVBQWFDLEdBRWxCQyxFQUFhTCxFQUFFLElBQUlJLEdBQUlFLEtBQUssUUFDNUJOLEVBQUUsZUFBZU8sS0FBS0YsR0FHdEJMLEVBQUUsV0FBV1EsSUFBSUgsR0ExV3JCTCxFQUFFLGVBQWVTLGFBQ2JDLEtBQUssRUFDTEMsTUFBTSxFQUNOQyxZQUNJQyxHQUNJQyxNQUFNLEVBQ05DLE1BQU8sR0FFWEMsS0FDSUMsT0FBUSxHQUNSSCxNQUFNLEVBQ05DLE1BQU8sR0FFWEcsS0FDSVAsTUFBTSxFQUNOTSxPQUFRLEdBQ1JILE1BQU0sRUFDTkMsTUFBTyxFQUNQSSxXQUFXLEVBQ1hDLFdBQVcsRUFDWEMsVUFBVSxNQUt0QnJCLEVBQUUsZ0JBQWdCUyxhQUNkSyxNQUFLLEVBQ0xHLE9BQU8sR0FDUEssVUFBUyxFQUNUQyxXQUFXLElBQ1hDLGdCQUFnQixJQUNoQmIsTUFBTSxFQUNORCxLQUFLLEVBQ0xlLFNBQVUsdUNBQXVDLHdDQUNqRGIsWUFDSUMsR0FDSUUsTUFBTSxFQUNOSixNQUFNLEVBQ05ELEtBQUssR0FFVE0sS0FDSUQsTUFBTSxFQUNOSixNQUFN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d0csRUFBUS9FLEtBQUt6QixZQUNid0csRUFBUS9FLEtBQUt6QixNQUtoQ3FHLEVBQWFZLFNBQVNSLEdBQWFRLFNBQVNQLEdBQzVDSixFQUFhVyxTQUFTTixHQUFhTSxTQUFTSixHQU9oRCxTQUFpQ1IsRUFBV0MsR0FFeEMxRyxFQUFFLGVBQWVPLEtBQUssSUFBSWtHLEdBQzFCekcsRUFBRSxtQkFBbUJPLEtBQUssSUFBSWtHLEdBQzlCLElBQUlPLEVBQU8sU0FDSyxHQUFiTixFQUNDTSxFQUFPLFFBQ0ZOLEVBQVUsSUFDZk0sRUFBTyxXQUlYaEgsRUFBRSxjQUFjTyxLQUFLbUcsRUFBVSxJQUFJTSxHQUNuQ2hILEVBQUUsa0JBQWtCTyxLQUFLbUcsRUFBVSxJQUFJTSxHQUd2Q2hILEVBQUUsYUFBYVEsSUFBSWlHLEdBQ25CekcsRUFBRSxTQUFTUSxJQUFJa0csRUFBVSxJQUFJTSxHQXRCN0JNLENBQXdCYixFQUFXQyxHQTRCdkMsU0FBMkJFLEdBQ3ZCLElBQUlXLEVBQVlDLE9BQU9DLE9BQU9iLEdBQ0w1RyxFQUFFLHNCQUNUTyxLQUFLZ0gsRUFBVUcsS0FBSyxNQUd0QzFILEVBQUUsWUFBWVEsSUFBSStHLEdBaENsQkksQ0FBa0JmLEtBaUR0QjVHLEVBQUUsZ0RBQWdENEgsU0FBUyxZQUFhLGNBQ3hFNUgsRUFBRSxzQ0FBc0M0SCxTQUFTLFlBQWEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbi8vLS0tLS0tLS0tLS0tT1dMXHJcbiAgICAkKCcuc2xpZGVyLXNlbycpLm93bENhcm91c2VsKHtcclxuICAgICAgICBuYXY6IGZhbHNlLFxyXG4gICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgcmVzcG9uc2l2ZTp7XHJcbiAgICAgICAgICAgIDA6e1xyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDYwMDp7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDEwLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDEwMDA6e1xyXG4gICAgICAgICAgICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDEwLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpdGVtczogMyxcclxuICAgICAgICAgICAgICAgIG1vdXNlRHJhZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0b3VjaERyYWc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcHVsbERyYWc6IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuc2xpZGVyLXdvcmsnKS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLCAvL9CX0LDRhtC40LrQu9C40LLQsNC10Lwg0YHQu9Cw0LnQtNC10YBcclxuICAgICAgICBtYXJnaW46NTAsIC8v0J7RgtGB0YLRg9C/INC+0YIg0LrQsNGA0YLQuNC90L4g0LXRgdC70Lgg0LLRi9Cy0L7QtNC40YLQtSDQsdC+0LvRjNGI0LUgMVxyXG4gICAgICAgIGF1dG9wbGF5OnRydWUsIC8v0JDQstGC0L7Qt9Cw0L/Rg9GB0Log0YHQu9Cw0LnQtNC10YDQsFxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6MjAwMCwgLy/QktGA0LXQvNGPINC00LLQuNC20LXQvdC40Y8g0YHQu9Cw0LnQtNCwXHJcbiAgICAgICAgYXV0b3BsYXlUaW1lb3V0OjcwMDAsIC8v0JLRgNC10LzRjyDRgdC80LXQvdGLINGB0LvQsNC50LTQsFxyXG4gICAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgICAgIG5hdjogdHJ1ZSxcclxuICAgICAgICBuYXZUZXh0OiBbXCI8aW1nIHNyYz0naW1nL0Fycm93cy1CYWNrLWljb24ucG5nJz5cIixcIjxpbWcgc3JjPSdpbWcvQXJyb3dzLUJhY2staWNvbi5wbmcnPlwiXSxcclxuICAgICAgICByZXNwb25zaXZlOnsgLy/QkNC00LDQv9GC0LDRhtC40Y8g0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINGA0LDQt9GA0LXRiNC10L3QuNGPINGN0LrRgNCw0L3QsFxyXG4gICAgICAgICAgICAwOntcclxuICAgICAgICAgICAgICAgIGl0ZW1zOjEsXHJcbiAgICAgICAgICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbmF2OiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA2MDA6e1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6MSxcclxuICAgICAgICAgICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBuYXY6IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDEwMDA6e1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6MVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLVBBUkFMTEFYXHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiaGVhZGVyXCIpLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb25cIixcIjUwJSBcIiArICgtJCh0aGlzKS5zY3JvbGxUb3AoKSAvIDIpICsgXCJweFwiKTtcclxuICAgIH0pO1xyXG4vLy0tLS0tLS0tLS0tLUVORCBQQVJBTExBWFxyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0gSE9WRVIgQlVUVE9OXHJcbiAgICAkKFwiLnRhYmxlLWNvbnRhaW5lci1mb290ZXIgLmJ0bi1waW5rXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XHJcbiAgICAgICAgdmFyIGVsZW1JbmRleCA9IGluZGV4ICsgMjtcclxuICAgICAgICB2YXIgX3RoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIF90aGlzLmhvdmVyKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoXCIudGFibGUtY29udGFpbmVyLWJvZHkgdHIgdGQ6bnRoLW9mLXR5cGUoXCIgKyBlbGVtSW5kZXggKyBcIilcIikuY3NzKHtcImJhY2tncm91bmQtY29sb3JcIjogXCJyZ2JhKDY4LDEyNSwxNTIsLjA3KVwiLCAgXCJ0cmFuc2l0aW9uXCI6IFwiYWxsIDAuM3MgZWFzZS1pblwifSk7XHJcbiAgICAgICAgfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKFwiLnRhYmxlLWNvbnRhaW5lci1ib2R5IHRyIHRkOm50aC1vZi10eXBlKFwiICsgZWxlbUluZGV4ICsgXCIpXCIpLmNzcyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIiwgIFwidHJhbnNpdGlvblwiOiBcImFsbCAwLjNzIGVhc2UtaW5cIn0pO1xyXG4gICAgICAgIH0pLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJChcIi50YWJsZS1jb250YWluZXItYm9keSB0ciB0ZFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoIFwiY2xpY2tlZFwiICkpICQodGhpcykucmVtb3ZlQ2xhc3MoXCJjbGlja2VkXCIpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChcIi50YWJsZS1jb250YWluZXItYm9keSB0ciB0ZDpudGgtb2YtdHlwZShcIiArIGVsZW1JbmRleCArIFwiKVwiKS5hZGRDbGFzcyhcImNsaWNrZWRcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLVRBQlNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0gVmFyaWFibGVzXHJcblxyXG4gICAgd3JhcHBlciAgID0gJChcIi50YWJzXCIpO1xyXG4gICAgdGFicyAgICAgID0gd3JhcHBlci5maW5kKFwiLnRhYlwiKTtcclxuICAgIHRhYlRvZ2dsZSA9IHdyYXBwZXIuZmluZChcIi50YWItdG9nZ2xlXCIpO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0gRnVuY3Rpb25zXHJcblxyXG4gICAgZnVuY3Rpb24gb3BlblRhYigpIHtcclxuICAgICAgICB2YXIgY29udGVudCAgICAgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoXCIuY29udGVudFwiKSxcclxuICAgICAgICAgICAgYWN0aXZlSXRlbXMgPSB3cmFwcGVyLmZpbmQoXCIuYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICBpZighJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGQoY29udGVudCkuYWRkKGFjdGl2ZUl0ZW1zKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuY3NzKCdtaW4taGVpZ2h0JywgJzQwMHB4JyApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLSBJbnRlcmFjdGlvbnNcclxuXHJcbiAgICB0YWJUb2dnbGUub24oJ2NsaWNrJywgb3BlblRhYik7XHJcblxyXG4gICAgdGFiVG9nZ2xlLmZpcnN0KCkudHJpZ2dlcignY2xpY2snKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9yIGZ1bmN0aW9uc1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLUVORCBUQUJTXHJcblxyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKClcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8v0L7RgtC60YDRi9GC0LjQtSDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gICAgJCgnI215TW9kYWwsICNteU1vZGFsMycpLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAkKCcjbXlJbnB1dCcpLmZvY3VzKClcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4vL9C/0LvQsNCy0YvQuSDRgdC60YDQvtC70LtcclxuICAgICQoXCIjbWVudVwiKS5vbihcImNsaWNrXCIsXCJhXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGlkICA9ICQodGhpcykuYXR0cignaHJlZicpLFxyXG4gICAgICAgICAgICB0b3AgPSAkKGlkKS5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiB0b3B9LCAxNTAwKTtcclxuICAgIH0pO1xyXG5cclxuLy/QkNGP0LrRgSDQvtGC0L/RgNCw0LLQutCwINGE0L7RgNC8XHJcblxyXG5cclxuICAgIC8v0JTQvtC60YPQvNC10L3RgtCw0YbQuNGPOiBodHRwOi8vYXBpLmpxdWVyeS5jb20vanF1ZXJ5LmFqYXgvXHJcbiAgICAkKFwiI2NvbW1lcmNpYWwtb2ZmZXJcIikuc3VibWl0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdHIgPSAgICQoXCIjUGhvbmUtY29tXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBmb3VuZCA9IHN0ci5tYXRjaCgvKD86XFx3KSg/Oig/Oig/Oig/OlxcKz8zKT84XFxXezAsNX0pPzBcXFd7MCw1fSk/WzM0NTY5XVxccz9cXGRbXlxcdyw7KFxcK117MCw1fSk/XFxkXFxXezAsNX1cXGRcXFd7MCw1fVxcZFxcV3swLDV9XFxkXFxXezAsNX1cXGRcXFd7MCw1fVxcZFxcV3swLDV9XFxkKD8hKFxcVz9cXGQpKS8pO1xyXG5cclxuICAgICAgICBpZiAoZm91bmQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBcIm1haWwucGhwXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiAkKFwiI2NvbW1lcmNpYWwtb2ZmZXJcIikuc2VyaWFsaXplKClcclxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoJy5tb2RhbC5jb21tZXJjaWFsJykubW9kYWwoJ3RvZ2dsZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLm1vZGFsLnRoYW5rLXlvdScpLm1vZGFsKCd0b2dnbGUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcjZXJyb3JNZXNzYWdlMicpLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiI2NhbGxiYWNrLWZvcm1cIikuc3VibWl0KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgc3RyID0gICAkKFwiI1Bob25lXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBmb3VuZCA9IHN0ci5tYXRjaCgvKD86XFx3KSg/Oig/Oig/Oig/OlxcKz8zKT84XFxXezAsNX0pPzBcXFd7MCw1fSk/WzM0NTY5XVxccz9cXGRbXlxcdyw7KFxcK117MCw1fSk/XFxkXFxXezAsNX1cXGRcXFd7MCw1fVxcZFxcV3swLDV9XFxkXFxXezAsNX1cXGRcXFd7MCw1fVxcZFxcV3swLDV9XFxkKD8hKFxcVz9cXGQpKS8pXHJcblxyXG4gICAgICAgIGlmIChmb3VuZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IFwibWFpbC5waHBcIixcclxuICAgICAgICAgICAgICAgIGRhdGE6ICQoXCIjY2FsbGJhY2stZm9ybVwiKS5zZXJpYWxpemUoKVxyXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1vZGFsLmNhbGwtdXMnKS5tb2RhbCgndG9nZ2xlJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubW9kYWwudGhhbmsteW91JykubW9kYWwoJ3RvZ2dsZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNlcnJvck1lc3NhZ2UnKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgICQoJyNvcGVuLWNsb3NlJykuc2hvdygpO1xyXG4gICAgJCgnLndyYXAtYWxlcnQnKS5zaG93KCk7XHJcblxyXG4gICAgJCgnI29wZW4tY2xvc2UnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vINCU0LvRjyDRgtC+0LPQviDRh9GC0L7QsdGLINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINGB0YHRi9C70LrRgyDQvdC1INC60LjQtNCw0LvQviDQstCy0LXRgNGFXHJcbiAgICAgICAgJCgnLndyYXAtYWxlcnQnKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vVEFCTEUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIHZhciAkYm9keSA9ICQoXCIudGFibGUtY29udGFpbmVyLWJvZHlcIiksXHJcbiAgICAgICAgJGhlYWRlciA9ICQoXCIudGFibGUtY29udGFpbmVyLWhlYWRlclwiKSxcclxuICAgICAgICAkZm9vdGVyID0gJChcIi50YWJsZS1jb250YWluZXItZm9vdGVyXCIpO1xyXG5cclxuLy8gR2V0IFNjcm9sbEJhciB3aWR0aChGcm9tOiBodHRwOi8vYm9vdHN0cmFwLXRhYmxlLndlbnpoaXhpbi5uZXQuY24vKVxyXG4gICAgdmFyIHNjcm9sbEJhcldpZHRoID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaW5uZXIgPSAkKCc8cC8+JykuYWRkQ2xhc3MoJ2ZpeGVkLXRhYmxlLXNjcm9sbC1pbm5lcicpLFxyXG4gICAgICAgICAgICBvdXRlciA9ICQoJzxkaXYvPicpLmFkZENsYXNzKCdmaXhlZC10YWJsZS1zY3JvbGwtb3V0ZXInKSxcclxuICAgICAgICAgICAgdzEsIHcyO1xyXG4gICAgICAgIG91dGVyLmFwcGVuZChpbm5lcik7XHJcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZChvdXRlcik7XHJcbiAgICAgICAgdzEgPSBpbm5lclswXS5vZmZzZXRXaWR0aDtcclxuICAgICAgICBvdXRlci5jc3MoJ292ZXJmbG93JywgJ3Njcm9sbCcpO1xyXG4gICAgICAgIHcyID0gaW5uZXJbMF0ub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgaWYgKHcxID09PSB3Mikge1xyXG4gICAgICAgICAgICB3MiA9IG91dGVyWzBdLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdXRlci5yZW1vdmUoKTtcclxuICAgICAgICByZXR1cm4gdzEgLSB3MjtcclxuICAgIH0pKCk7XHJcblxyXG4vLyBTY3JvbGwgaG9yaXpvbnRhbFxyXG4gICAgJGJvZHkub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkaGVhZGVyLnNjcm9sbExlZnQoJCh0aGlzKS5zY3JvbGxMZWZ0KCkpO1xyXG4gICAgICAgICRmb290ZXIuc2Nyb2xsTGVmdCgkKHRoaXMpLnNjcm9sbExlZnQoKSk7XHJcbiAgICB9KTtcclxuXHJcbi8vIFJlZHJhdyBIZWFkZXIvRm9vdGVyXHJcbiAgICB2YXIgcmVkcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRkcyA9ICRib2R5LmZpbmQoXCI+IHRhYmxlID4gdGJvZHkgPiB0cjpmaXJzdC1jaGlsZCA+IHRkXCIpO1xyXG4gICAgICAgIHRkcy5lYWNoKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICQodGhpcykuaW5uZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICAgICAgbGFzdFBhZGRpbmcgPSAodGRzLmxlbmd0aCAtMSA9PSBpID8gc2Nyb2xsQmFyV2lkdGggOiAwKTtcclxuICAgICAgICAgICAgbGFzdEhlYWRlciA9ICRoZWFkZXIuZmluZChcInRoOmVxKFwiK2krXCIpXCIpLmlubmVyV2lkdGgod2lkdGggKyBsYXN0UGFkZGluZyk7XHJcbiAgICAgICAgICAgIGxhc3RGb290ZXIgPSAkZm9vdGVyLmZpbmQoXCJ0aDplcShcIitpK1wiKVwiKS5pbm5lcldpZHRoKHdpZHRoICsgbGFzdFBhZGRpbmcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbi8vIFNlbGVjdGlvblxyXG4gICAgJGJvZHkuZmluZChcIj4gdGFibGUgPiB0Ym9keSA+IHRyID4gdGRcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICRib2R5LmZpbmQoXCI+IHRhYmxlID4gdGJvZHkgPiB0clwiKS5yZW1vdmVDbGFzcyhcImluZm9cIik7XHJcbiAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCkuYWRkQ2xhc3MoJ2luZm8nKTtcclxuICAgIH0pO1xyXG5cclxuLy8gTGlzdGVuIHRvIFJlc2l6ZSBXaW5kb3dcclxuICAgICQod2luZG93KS5yZXNpemUocmVkcmF3KTtcclxuICAgIHJlZHJhdygpO1xyXG5cclxuICAgIC8vRU5EIFRBQkxFLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyBJbnNlcnQgcHJpY2UgaW50byBsYWJlbHNcclxuICAgIHZhciBtYXNQcmljZSA9IFtcclxuICAgICAgICB7cHJpY2U6IGFsbE9wdGlvbnMubWFpbi5saWdodC5wcmljZX0sXHJcbiAgICAgICAge3ByaWNlOiBhbGxPcHRpb25zLm1haW4ubWVkaXVtLnByaWNlfSxcclxuICAgICAgICB7cHJpY2U6IGFsbE9wdGlvbnMubWFpbi5wcmVtaXVtLnByaWNlfVxyXG4gICAgXTtcclxuXHJcbiAgICAkKFwiLnRhYmxlLWNvbnRhaW5lci1mb290ZXIgLnByaWNlXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgJCh0aGlzKS50ZXh0KCckJysgbWFzUHJpY2VbaW5kZXhdLnByaWNlKTtcclxuICAgIH0pO1xyXG4gICAgJChcIi50YWItY29udGVudCAucHJpY2VcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJ3AnKS50ZXh0KCckJysgbWFzUHJpY2VbaW5kZXhdLnByaWNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGNhbGN1bGF0aW5nIHRvdGFsIHByaWNlIGFuZCB0b3RhbCB0aW1lOlxyXG4gICAgdmFyIGNoZWNrQm94ZXMgPSAgJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKTtcclxuICAgIHZhciBvcHRpb25zID0ge30gO1xyXG4gICAgdmFyIHRvdGFsUHJpY2UgO1xyXG4gICAgdmFyIGJhc2VQcmljZSAgICA9IGFsbE9wdGlvbnMubWFpbi5saWdodC5wcmljZSA7XHJcbiAgICB2YXIgb3B0aW9uc1ByaWNlID0gMCA7XHJcblxyXG4gICAgdmFyIHRvdGFsVGltZTtcclxuICAgIHZhciBiYXNlVGltZSAgICA9IGFsbE9wdGlvbnMubWFpbi5saWdodC50aW1lICA7XHJcbiAgICB2YXIgb3B0aW9uc1RpbWUgPSAwIDtcclxuICAgIHZhciB0YXJpZmZOYW1lIDtcclxuXHJcbiAgICB1cGRhdGVUYXJpZmYoJ2xpZ2h0Jyk7XHJcblxyXG4gICAgJCgnW2lkPVwibGlnaHRcIl0nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIGJhc2VQcmljZSA9IGFsbE9wdGlvbnMubWFpbi5saWdodC5wcmljZTtcclxuICAgICAgICBiYXNlVGltZSAgPSBhbGxPcHRpb25zLm1haW4ubGlnaHQudGltZTtcclxuICAgICAgICB1cGRhdGVUYXJpZmYodGhpcy5pZCk7XHJcbiAgICAgICAgY2hlY2tCb3hlcy5jaGFuZ2UoKTtcclxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJChcImRpdi5vcHRpb25zXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnW2lkPVwibWVkaXVtXCJdJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICBiYXNlUHJpY2UgPSBhbGxPcHRpb25zLm1haW4ubWVkaXVtLnByaWNlO1xyXG4gICAgICAgIGJhc2VUaW1lICA9IGFsbE9wdGlvbnMubWFpbi5tZWRpdW0udGltZTtcclxuICAgICAgICBjaGVja0JveGVzLmNoYW5nZSgpO1xyXG4gICAgICAgIHVwZGF0ZVRhcmlmZih0aGlzLmlkKTtcclxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJChcImRpdi5vcHRpb25zXCIpLm9mZnNldCgpLnRvcFxyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnW2lkPVwicHJlbWl1bVwiXScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgYmFzZVByaWNlID0gYWxsT3B0aW9ucy5tYWluLnByZW1pdW0ucHJpY2U7XHJcbiAgICAgICAgYmFzZVRpbWUgID0gYWxsT3B0aW9ucy5tYWluLnByZW1pdW0udGltZTtcclxuICAgICAgICBjaGVja0JveGVzLmNoYW5nZSgpO1xyXG4gICAgICAgIHVwZGF0ZVRhcmlmZih0aGlzLmlkKTtcclxuICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoXCJkaXYub3B0aW9uc1wiKS5vZmZzZXQoKS50b3BcclxuICAgICAgICB9LCAxMDAwKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjbW9kYWxCdG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2hlY2tCb3hlcy5jaGFuZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBjaGVja0JveGVzLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBvcHRpb25zUHJpY2UgPSAwO1xyXG4gICAgICAgIG9wdGlvbnNUaW1lID0gMCA7XHJcbiAgICAgICAgJCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1t0aGlzLmlkXSA9IHRoaXMubmFtZTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNQcmljZSArPSBhbGxPcHRpb25zWydvcHRpb25zJ11bdGhpcy5pZF1bJ3ByaWNlJ107XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zVGltZSAgKz0gYWxsT3B0aW9uc1snb3B0aW9ucyddW3RoaXMuaWRdWyd0aW1lJ11cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNbdGhpcy5pZF0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbdGhpcy5pZF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdG90YWxQcmljZSA9IHBhcnNlSW50KGJhc2VQcmljZSkgKyBwYXJzZUludChvcHRpb25zUHJpY2UpIDtcclxuICAgICAgICB0b3RhbFRpbWUgID0gcGFyc2VJbnQoYmFzZVRpbWUpICArIHBhcnNlSW50KG9wdGlvbnNUaW1lKSAgO1xyXG5cclxuICAgICAgICB1cGRhdGVUb3RhbFByaWNlQW5kVGltZSh0b3RhbFByaWNlLHRvdGFsVGltZSk7XHJcbiAgICAgICAgLy8gdXBkYXRlIGZvcm0gZGF0YSA6XHJcbiAgICAgICAgdXBkYXRlRm9ybU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUb3RhbFByaWNlQW5kVGltZSh0b3RhbFByaWNlLHRvdGFsVGltZSl7XHJcbiAgICAgICAgLy8gc2V0IHByaWNlIGFuZCB0aW1lIGZvciB0aGUgcGFnZSA6XHJcbiAgICAgICAgJCgnI3RvdGFsUHJpY2UnKS5odG1sKCckJyt0b3RhbFByaWNlKTtcclxuICAgICAgICAkKCcjdG90YWxQcmljZUZvcm0nKS5odG1sKCckJyt0b3RhbFByaWNlKTtcclxuICAgICAgICB2YXIgdGltZSA9ICfQvNC10YHRj9GG0LAnIDtcclxuICAgICAgICBpZih0b3RhbFRpbWUgPT0gMSApe1xyXG4gICAgICAgICAgICB0aW1lID0gJ9C80LXRgdGP0YYnO1xyXG4gICAgICAgIH1lbHNlIGlmKHRvdGFsVGltZT40KXtcclxuICAgICAgICAgICAgdGltZSA9ICfQvNC10YHRj9GG0LXQsicgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2V0IHRpbWUgYW5kIHByaWNlIG9uIHRoZSBmb3JtIDpcclxuICAgICAgICAkKCcjdG90YWxUaW1lJykuaHRtbCh0b3RhbFRpbWUrJyAnK3RpbWUpO1xyXG4gICAgICAgICQoJyN0b3RhbFRpbWVGb3JtJykuaHRtbCh0b3RhbFRpbWUrJyAnK3RpbWUpO1xyXG5cclxuICAgICAgICAvLyBjaGFuZ2UgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBmaWVsZCBpbiB0aGUgZm9ybSA6XHJcbiAgICAgICAgJCgnI2Nvc3QtdmFsJykudmFsKHRvdGFsUHJpY2UpO1xyXG4gICAgICAgICQoJyNkYXRlJykudmFsKHRvdGFsVGltZSsnICcrdGltZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qINCX0LDQv9C40YHQsNGC0Ywg0LTQsNC90L3Ri9C1LCDQutC+0YLQvtGA0YvQtSDQstGL0LHRgNCw0Lsg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC90LAg0YTQvtGA0LzQtSAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZvcm1PcHRpb25zKG9wdGlvbnMpe1xyXG4gICAgICAgIHZhciBhcnJWYWx1ZXMgPSBPYmplY3QudmFsdWVzKG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBhZGRpdGlvbmFsT3B0aW9ucyA9ICAkKCcjYWRkaXRpb25hbE9wdGlvbnMnKTtcclxuICAgICAgICBhZGRpdGlvbmFsT3B0aW9ucy5odG1sKGFyclZhbHVlcy5qb2luKCc7JykpO1xyXG5cclxuICAgICAgICAvLyBvcHRpb25zIGlucHV0IHZhbHVlIDpcclxuICAgICAgICAkKCcjb3B0aW9ucycpLnZhbChhcnJWYWx1ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRhcmlmZihpZCl7XHJcbiAgICAgICAgLy8gdXBkYXRlIHRhcmlmZiBvbiB0aGUgZm9ybVxyXG4gICAgICAgIHRhcmlmZk5hbWUgPSAkKCcjJytpZCkuYXR0cignbmFtZScpO1xyXG4gICAgICAgICQoJyNtYWluVGFyaWZmJykuaHRtbCh0YXJpZmZOYW1lKTtcclxuXHJcbiAgICAgICAgLy8gdGFyaWZmIGlucHV0IHZhbHVlIDpcclxuICAgICAgICAkKCcjdGFyaWZmJykudmFsKHRhcmlmZk5hbWUpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKkFuaW1hdGlvbiovXHJcbiAgICAkKFwiI2Nvc3QsICNmZWF0dXJlLCAjd2h5LXVzLCAjcHJvbW90aW9uLCAjd29ya3NcIikuYW5pbWF0ZWQoXCJzbGlkZUluVXBcIiwgXCJzbGlkZU91dFVwXCIpO1xyXG4gICAgJChcIi5vcHRpb25zLCAud3JhcC1jb3N0LCAuaG9tZS1idXR0b25cIikuYW5pbWF0ZWQoXCJzbGlkZUluVXBcIiwgXCJzbGlkZU91dFVwXCIpO1xyXG5cclxuXHJcbn0pOyJdfQ==
